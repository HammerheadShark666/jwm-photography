function f(n){$(n).each(function(){$(this).delay(Math.random()*500+100).fadeTo("slow",1)})}function h(n){switch(n){case 0:return"alert-danger";case 1:return"alert-warning";case 2:return"alert-info"}}function c(n,t){$(t).append('<div class="alert '+h(n.severity)+'" role="alert">'+n.text+"<\/div >")}function i(n){document.querySelectorAll(n).forEach(function(n){n.addEventListener("click",function(n){n.stopPropagation()})})}function a(){var n=$("#user-galleries"),t=$("li",n).get(),u=t[0],i;t.shift();i=s(t);i.splice(0,0,u);n=r(n,i)}function v(){var n=$(".site-galleries"),t=$("li.site-gallery-menu-item",n),i=$("li.user-gallery-menu-item",n),u=$("li.seperator",n),f=s(i),n=r(n,t);n.append(u);n=r(n,f)}function s(n){return n.sort(function(n,t){var i=$(n).text().trim().toUpperCase(),r=$(t).text().trim().toUpperCase();return i<r?-1:1}),n}function r(n,t){return $.each(t,function(t,i){n.append(i)}),n}class u{searchPhotos(n,t,i,r,u,f){let e=this.filter(n,t,i,r,u,f);return new Promise(function(n,t){post("/favourites/search",e).then(function(t){return n(t)}).catch(n=>t(n))})}savePhotoToUserGallery(n,t,i){let r=this.photo(n,t,i);return new Promise(function(n,t){post("/user/gallery-photos/add",r).then(function(t){return n(t)}).catch(n=>t(n))})}movePhotoInUserGallery(n,t,i){let r=this.photo(n,t,i);return new Promise(function(n,t){post("/user/gallery-photos/move",r).then(function(t){return n(t)}).catch(n=>t(n))})}removePhotoInUserGallery(n,t,i){let r=this.photo(n,t,i);return new Promise(function(n,t){post("/user/gallery-photos/remove",r).then(function(t){return n(t)}).catch(n=>t(n))})}saveUserGalleryName(n,t){let i=this.userGallery(n,t),r="/user/gallery/"+(n==0?"add":"update");return new Promise(function(n,t){post(r,i).then(function(t){return n(t)}).catch(n=>t(n))})}saveNewUserGallery(n){let t=this.userGallery(0,n);return new Promise(function(n,i){post("/user/gallery/add",t).then(function(t){return n(t)}).catch(n=>i(n))})}deleteUserGallery(n){return new Promise(function(t,i){deletion("/user/gallery/delete/"+n).then(function(n){return t(n)}).catch(n=>i(n))})}photo(n,t,i){return{userGalleryId:n,photoId:t,order:i}}userGallery(n,t){return{id:n,name:t}}filter(n,t,i,r,u,f){return{title:n,countryId:parseInt(t),categoryId:parseInt(i),paletteId:parseInt(r),pageIndex:parseInt(u),pageSize:parseInt(f)}}}const l=new u;let n=$("#add-user-gallery-name-alerts"),e=$("#new-user-gallery-name"),o=$("#new-user-gallery-modal"),t=$("nav ul li");$(function(){n.empty()});document.addEventListener("DOMContentLoaded",function(){i(".site-galleries");i(".user-galleries");i(".new-gallery-item")});$("#menu-bar li a").click(function(){var n=$(this).attr("id");t.find("ul.item-show-"+n).toggleClass("show");t.find("#"+n+" span").toggleClass("rotate")});t.click(function(){t.removeClass("active");$(this).addClass("active")});$(document).on("click","#new-user-gallery",function(){o.modal("show");e.val("");n.empty()});$(document).on("click","#save-user-new-gallery",function(){let t=e.val();n.empty();t!=""&&l.saveNewUserGallery(t).then(function(n){o.modal("hide");$("#user-galleries").append("<li><a href='/user/gallery/"+n.data.id+"'>"+n.data.name+"<\/a><\/li>");$(".site-galleries").append("<li class='user-gallery-menu-item' data-user-gallary-menu-id='"+n.data.id+"'><a class='dropdown-item' href='/gallery/user/"+n.data.id+"'>"+n.data.name+"<\/a><\/li>");a();v();window.location=baseUrl+"/user/gallery/"+n.data.id}).catch(t=>{t.response.data.messages.forEach(function(t){c(t,n)})})});$(function(){f($("#image-list-container > ul > li > div > a > img"));f($(".home-image-favourite"))});export{u as UserGallery};